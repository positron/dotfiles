# Be more like screen since that's what I have to use at work
set -g prefix c-a

# Use C-s to send commands to the inner window of nested sessions
bind s send-prefix

# Ctrl-a Ctrl-a switches panes
bind C-a last-pane
bind a last-pane

# Rebind the session key to allow switching windows quickly
bind C-s last-window
bind s last-window
# Let Ctrl-space do the same thing
bind Space last-window
bind C-Space last-window

# Same rename hotkey as screen
bind A command-prompt "rename-window '%%'"

# Make the current window cyan and bold
set -g status-bg black
set -g status-fg white
setw -g window-status-current-bg yellow
setw -g window-status-current-attr bold

# Make any easy to remember bind for spliting windows in to panes
bind | split-window -h
bind _ split-window -v

# I keep holding down control too long by accident
# TODO bind things I mess up to C-a x *and* C-a C-x

# use the vim motion keys to move between panes
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# vim style copy-paste
unbind [
bind y copy-mode
unbind p
bind p paste-buffer
bind -t vi-copy v begin-selection
bind -t vi-copy y copy-selection
bind -t vi-copy Escape cancel

# use vim motion keys while in copy mode
set-window-option -g mode-keys vi

# use the vim resize keys.
# the number at the end is how much the pane will be resized
unbind (
unbind )
bind < resize-pane -L 2
bind > resize-pane -R 2
bind ( resize-pane -D 3
bind ) resize-pane -U 3

# use the mouse (usually more annoying that useful)
#set -g mouse-resize-pane on
#set -g mouse-select-pane on
#set -g mouse-select-window on

# I'm not hardcore enough for military time
set-window-option -g clock-mode-style 12

# reload tmux.conf
bind r source-file ~/.tmux.conf \; display-message " âœ± ~/.tmux.conf is reloaded"

# tmux is so slow by default (this allows for faster key repetition)
# On one machine, having it too slow causes garbage characters to print
# On another, having it not 0 causes home/end/ctrl-arrow/etc to not work :(
set -sg escape-time 0

set-option -g history-limit 10000

# behave as screen, with 256 color support, and background color erase (for vim)
#set -g default-terminal "screen-256color-bce"

# something in this chain: cygwin -> ssh -> tmux -> vim wasn't respecting
# my arrow keys, and this fixes it.
#set -g xterm-keys on

# don't constrain the screen size based on clients connected to this session, rather
# constrain it based on clients connected to each specific window.
setw -g aggressive-resize on
